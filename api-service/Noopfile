COMPONENT APIService service

ROUTE -m GET /api/*

RESOURCE AppDB dynamodb

FROM node:14-alpine
WORKDIR api-service

ENV NODE_ENV production
COPY package*.json ./
RUN npm ci

ENV NODE_ENV production
ENV DYNAMO_TABLE $.resources.AppDB.tableName
ENV DYNAMO_ENDPOINT $.resources.AppDB.endpoint

COPY server.js .
COPY /routes ./routes

CMD npm start
